<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN" "http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">

<mapper namespace="com.web.my.member.mapper.MemberMapper">

    <select id="getMember" parameterType="String" resultType="com.web.my.member.vo.Member">
        SELECT *
        FROM member
        WHERE userid = #{userId}
    </select>

    <select id="chkDuplicateMember" parameterType="com.web.my.member.vo.Member" resultType="int">
        SELECT count(1)
        FROM member
        WHERE userid = #{userId}
            or email = #{email}
    </select>

    <insert id="insertMember" parameterType="com.web.my.member.vo.Member">
        INSERT INTO member
        (
            userId
            , password
            , firstName
            , lastName
            , email
            , role
        )
        VALUES
        (
            #{userId}
            , #{password}
            , #{firstName}
            , #{lastName}
            , #{email}
            , 'USER'
        )
    </insert>

    <update id="updateRtk" parameterType="com.web.my.member.vo.Member">
        UPDATE member
        SET rtk = #{rtk}
        WHERE userid = #{userId}
    </update>

</mapper>